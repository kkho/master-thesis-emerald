head	1.5;
access;
symbols
	105alpha:1.4
	104alpha:1.4
	103alpha:1.3
	102alpha:1.3
	101alpha:1.2
	100alpha:1.2;
locks; strict;
comment	@ * @;


1.5
date	2007.06.11.02.35.58;	author norm;	state Exp;
branches;
next	1.4;

1.4
date	98.05.08.19.38.21;	author norm;	state Exp;
branches;
next	1.3;

1.3
date	98.04.20.13.19.44;	author norm;	state Exp;
branches;
next	1.2;

1.2
date	98.03.24.16.25.58;	author norm;	state Exp;
branches;
next	1.1;

1.1
date	98.03.02.16.46.01;	author norm;	state Exp;
branches;
next	;


desc
@System include file, takes care of most system dependencies.
@


1.5
log
@Check in current version
@
text
@#ifndef _EMERALD_SYSTEM_H
#define _EMERALD_SYSTEM_H

#if !defined(EMERALD_MYRINET)
#if defined(WIN32)
#pragma warning(disable: 4068)
#endif

#if defined(alpha)
#pragma pointer_size long
#endif

#include <stdio.h>

#if !defined(E_NEEDS_STDIO_ONLY)
#include <stdlib.h>
#endif

#if defined(E_NEEDS_FILE) || defined(E_NEEDS_STAT) || defined(E_NEEDS_NTOH) || defined(E_NEEDS_SOCKET) || defined(E_NEEDS_NETDB) || defined(E_NEEDS_SELECT)
#    include <sys/types.h>
#endif

#if defined(E_NEEDS_FILE) || defined(E_NEEDS_NETDB)
#  if !defined(WIN32)
#    include <unistd.h>
#  endif
#endif

#include <time.h>
#ifdef WIN32
#  include <sys/timeb.h>
#  define E_NEEDS_SOCKET
#else
#  include <sys/time.h>
#  include <sys/times.h>
#endif

#if defined(E_NEEDS_FILE)
#  include <fcntl.h>
#  ifdef WIN32
#    include <io.h>
#  else /* not WIN32 */
#    include <unistd.h>
#    include <sys/file.h>
#  endif /* not WIN32 */
#  ifdef __svr4__
#    include <sys/fcntl.h>
#  endif
#ifndef O_BINARY
#  define O_BINARY 0
#endif
#endif

#if defined(E_NEEDS_STAT)
#  include <sys/stat.h>
#endif

#if defined(E_NEEDS_STRING)
#  include <string.h>
#  if (defined(sun) && !defined(__svr4__))
     extern char *sys_errlist[];
#    define strerror(n) (sys_errlist[(n)])
#  endif
#endif

#if defined(E_NEEDS_ERRNO)
#  ifndef WIN32
#    include <sys/errno.h>
#  else
#    define EINTR 999
#    define ETIMEDOUT 999
#  endif
#  ifndef errno
     extern int errno;
#  endif
#endif

#if defined(E_NEEDS_NTOH)
#  ifdef WIN32
#    define E_NEEDS_SOCKET
#  else
#    include <netinet/in.h>
#    ifdef sgi
#      include <sys/endian.h>
#    endif
#  endif
#endif

#if defined(E_NEEDS_SOCKET)
#  ifdef WIN32
#    ifdef MSVC40
#      include "winsock.h"
#    else
#      include "winsock2.h"
#    endif
#  else
#    include "sys/socket.h"
#  endif
#endif

#if defined(E_NEEDS_NETDB)
#  ifndef WIN32
#    include <netinet/in.h>
#    include <netdb.h>
#    include <arpa/inet.h>
#  endif
#endif

#if defined(E_NEEDS_VARARGS)
#  ifdef STDARG_WORKS
#    include <stdarg.h>
#  endif
#endif

#if defined(E_NEEDS_SIGNAL)
#  include <signal.h>
#endif

#ifdef E_NEEDS_IOV
#  if defined(WIN32)
     struct iovec {
       char *iov_base;
       int   iov_len;
     };
#  else
#    include <sys/uio.h>
#  endif
#endif

#if defined(E_NEEDS_CTYPE)
#  include <ctype.h>
#endif

#if defined(E_NEEDS_MATH)
#  include <math.h>
#endif

#if defined(E_NEEDS_TCP)
#  ifndef WIN32
#    include "netinet/tcp.h"
#  endif
#endif

#if defined(E_NEEDS_SELECT)
#  if defined(hp700) || defined(__NeXT__) || defined(WIN32) || (defined(sun) && !defined(__svr4__)) || defined(linux)
     /*
      * The select stuff is in unistd.h
      */
#  else
#    include <sys/select.h>
#  endif
#endif

#if defined(WIN32) || (defined(sun) && !defined(__svr4__)) || defined(__NeXT__)
#  define ssize_t size_t
#endif

#ifdef alpha
#  pragma pointer_size short
#endif

#else  /* EMERALD_MYRINET */
#  include "baselib.h"
#  if defined(E_NEEDS_CTYPE)
#    include <ctype.h>
#  endif
#endif /* EMERALD_MYRINET */

#endif /* _EMERALD_SYSTEM_H */
@


1.4
log
@Cleanups to remove useless leftover drivel found by cxref
@
text
@d73 3
a75 1
extern int errno;
@


1.3
log
@Made unavailable much more reliable, move correctly moves attached objects
@
text
@d4 1
d159 7
@


1.2
log
@'.'
@
text
@d70 1
@


1.1
log
@Initial revision
@
text
@d31 1
d59 4
a129 4
#ifdef alpha
#  pragma pointer_size short
#endif

d141 1
a141 1
#  if defined(hp700) || defined(__NeXT__) || (defined(sun) && !defined(__svr4__)) || defined(linux)
d150 6
a155 2
#if defined(WIN32) || defined(sun) && !defined(__svr4__) || defined(__NeXT__)
#define ssize_t size_t
@
